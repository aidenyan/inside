<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>订单统计</title>
    <link rel="stylesheet" href="../../layui/css/layui.css"/>
    <link rel="stylesheet" href="../../common/css/common.css">
    <link rel="stylesheet" href="../../common/css/font-style.css">
</head>
<body>
<div class="content-wrpper">
    <div class="list">
        <div>
            <div class="content-search layui-form">
                <div class="layui-form-item">
                        <div class="layui-input-inline">
                        <select id="storeTypeList">
                            <option value="-1">门店类型</option>
                        </select>
                        </div>
                        <div class="layui-inline">
                        <div class="layui-input-inline" id="supervisorListSelect_div">
                            <select id="supervisorListSelect">
                                <option value="-1">选择督导</option>
                            </select>
                        </div>
                        <div class="layui-input-inline">
                            <select id="warehouseList">
                                <option value="-1">选择仓库</option>
                            </select>
                        </div>
                        <div class="layui-input-inline">
                            <select id="platformList">
                                <option value="-1">选择平台</option>
                            </select>
                        </div>
                        <div class="layui-input-inline">
                            <select id="timeSelect">
                                <option value="-1">发货时间</option>
                                <option value="1">创建时间</option>
                            </select>
                        </div>
                        <div class="layui-input-inline">
                            <input name="startDate" class="layui-input" placeholder="开始日" id="startDate" onclick="layui.laydate({elem: this,istime: false, format: 'YYYY-MM-DD'})">
                        </div>
                        <div class="layui-input-inline">
                            <input name="endDate" class="layui-input" placeholder="截止日" id="endDate" onclick="layui.laydate({elem: this, istime: false,format: 'YYYY-MM-DD'})">
                        </div>
                        <button id="btnSearch" class="layui-btn layui-btn-small">搜索
                        </button>
                        <button id="exportOut" class="layui-btn layui-btn-small export_supervisor_statistics"
                                authority_code="export_supervisor_statistics">导出
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel layui-form">
            <div class="datagrid-header" style="width: 100%; height: 29px;">
                <div class="datagrid-header-inner" style="display: block;position: absolute;left: 0;">
                    <table class="datagrid-htable" cellspacing="0" cellpadding="0" border="0">
                        <tbody>
                        <tr class="datagrid-header-row">
                            <td rowspan="1" colspan="1" field="name2">
                                <div class="datagrid-cell datagrid-cell-c1-w70" style="">创建时间</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name3" class="">
                                <div class="datagrid-cell datagrid-cell-c1-w70" style="">发货时间</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name4">
                                <div class="datagrid-cell datagrid-cell-c1-tel_num" style="">单据编号</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name5">
                                <div class="datagrid-cell datagrid-cell-c1-order_num" style="">门店类型</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name5">
                                <div class="datagrid-cell datagrid-cell-c1-order_num" style="">门店编号</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-order_num" style="">客户名称</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">销售人员</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">订单金额</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">运费</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">促销金额</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">调整金额</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">优惠金额</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">应收金额</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">积分金额</div>
                            </td>
                            <!--
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">余额支付</div>
                            </td>
                            -->
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">本次收款</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w70" style="">支付类型</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w70" style="">收货人</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w100" style="">收货电话</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-store_name" style="">地址</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-time" style="">商品编号</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w70" style="">商品品牌</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-store_name" style="">商品名称</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w50" style="">单位</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w50" style="">数量</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">单价</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">金额</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w100" style="">仓库</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w60" style="">来源</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w100" style="">快递公司</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w100" style="">重量(千克)</div>
                            </td>
                            <td rowspan="1" colspan="1" field="name12">
                                <div class="datagrid-cell datagrid-cell-c1-w300" style="">备注</div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="datagrid-body" style="width: 100%; margin-top: 0px; height: 168px;">
                <table class="datagrid-btable" cellspacing="0" cellpadding="0" border="0">
                    <tbody id="page_tbody">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="../../js/common.js"></script>
<script type="text/javascript" src="../../common/js/orderInfo/supervisorOrderStatistics.js"></script>
<script id="pageTpl" type="text/html">
    {{#  layui.each(d, function(index, item){ }}
		{{#  layui.each(item.orderDetailList, function(indexPro, itemPro){ }}
	 {{#  if(indexPro == 0){ }}
    <tr id="{{item.id}}">
        				<td><div class="datagrid-cell datagrid-cell-c1-w70">{{laydate.now(item.createTime,'YYYY-MM-DD')}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w70">{{laydate.now(item.consignTime,'YYYY-MM-DD')}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-tel_num">{{item.sn}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-order_num">{{item.storeTypeStr||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-order_num">{{item.storeNo||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-order_num">{{item.userName||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.supervisorName||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.totalAmount||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.freight||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.promotionFee||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.adjustFee||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.couponFee||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.totalAmount+(item.freight||0)+(item.adjustFee||0)-(item.promotionFee||0)-(item.couponFee||0)}}</div></td>
                        <!--<td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.pointPaid||''}}</div></td>-->
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.balancePaid||''}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.payAmount||''}}</div></td>

                        <td><div class="datagrid-cell datagrid-cell-c1-w70">{{changePayStatus(item.payInfoList,item.newStatus,item.pointPaid)}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w70">{{item.consignee}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w100">{{item.phoneNo}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-store_name">{{item.fullAddress}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-time">{{itemPro.skuCode}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w70">{{itemPro.brandName}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-store_name">{{itemPro.proName}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w50">{{itemPro.unit}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w50">{{itemPro.buyNum}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{itemPro.price}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{itemPro.buyNum*itemPro.price}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w100">{{item.warehouseName}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.platformName}}</div></td>
                         <td><div class="datagrid-cell datagrid-cell-c1-w100">{{item.trackingName}}</div></td>
                           <td><div class="datagrid-cell datagrid-cell-c1-w100">{{item.weightTotal}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w300">{{changeRemarkInfo(item.payInfoList,item.newStatus,item.pointPaid)}}</div></td>
    </tr>
	{{#  } }}
	{{#  if(indexPro >0){ }}
    <tr id="{{item.id}}">
        				<td><div class="datagrid-cell datagrid-cell-c1-w70"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w70"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-tel_num"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w50"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w70"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <!--<td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>-->
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60"></div></td>

                        <td><div class="datagrid-cell datagrid-cell-c1-w70"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w70"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w100"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-store_name"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-time">{{itemPro.skuCode}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w70">{{itemPro.brandName}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-store_name">{{itemPro.proName}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w50">{{itemPro.unit}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w50">{{itemPro.buyNum}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{itemPro.price}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{itemPro.buyNum*itemPro.price}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w100">{{item.warehouseName}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w60">{{item.platformName}}</div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w100"></div></td>
                         <td><div class="datagrid-cell datagrid-cell-c1-w100"></div></td>
                        <td><div class="datagrid-cell datagrid-cell-c1-w300"></div></td>

    </tr>
	{{#  } }}
    {{# }); }}
    {{# }); }}

    {{#  if(d==null||d.length == 0){ }}
    <tr aglin='center'>
       <td colspan="21">
           <div class="null-show"></div>
       </td>
    </tr>
    {{#  } }}
</script>
<script id="warehouseListTpl" type="text/html">
<option value="-1">选择仓库</option>
 {{# layui.each(d, function(index, item){ }}
    <option value="{{item.id}}">{{item.companyShortName}}</option>
 {{#  }); }}
</script>
<script id="storeTypeTpl" type="text/html">
    <option value="-1">门店类型</option>
    {{# layui.each(d, function(index, item){ }}
    <option value="{{item.code}}">{{item.name}}</option>
    {{#  }); }}
</script>
<script id="supervisorListTpl" type="text/html">
    <option value="-1">选择督导</option>
    {{# layui.each(d, function(index, item){ }}
    <option value="{{item.id}}">{{item.supervisorName}}</option>
    {{#  }); }}
</script>
<script id="platformTpl" type="text/html">
    <option value="-1">选择平台</option>
    {{# layui.each(d, function(index, item){ }}
    <option value="{{item.id}}">{{item.name}}</option>
    {{#  }); }}
</script>
</body>
</html>
